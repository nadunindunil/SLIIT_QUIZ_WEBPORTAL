<div class="row">
    <ol class="breadcrumb" style="background-color: transparent">
        <li><a href="#/dashboard"><i class="fa fa-dashboard"></i> Home</a></li>

        <li class="active"> Groups</li>
    </ol>

</div>
<div class="row" ng-controller="GroupCtrl" cg-busy="{promise:mypromise2,templateUrl:'partials/custom-template.html'}" xmlns="http://www.w3.org/1999/html">
  <div class="col-lg-12">
    <h4 class="page-header"> Groups Management</h4>
    <div class="under">

        <!-- Button trigger modal -->
        <button class="btn btn-success btn-xs" data-toggle="modal" data-target="#myModal"><i class="fa fa-plus"></i>
            New Group
        </button>

        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="myModalLabel"> Add new Group</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row" style="padding-left: 15px;">
                            <div class="col-lg-9 col-lg-offset-1 form">
                                <div class="row" style="padding-bottom: 5px">
                                    <label class="pull-left" style="padding-left: 1cm">Balance: </label>

                                    <div class="from-group input-group" style="padding-left: 1.7cm">
                                        <span class="input-group-addon">Rs.</span>
                                        <input class="form-control"
                                               style=" height: 35px" data-ng-model="Balance" type="number" placeholder="Balance">
                                        <span class="input-group-addon">.00 </span>

                                    </div>
                                </div>

                                <div class="row from-group" style="padding-bottom: 5px" >
                                    <label class="pull-left" style="padding-left: 1cm">NO of Members:</label>

                                    <input class="form-control pull-right"
                                           style="width: 300px; height: 35px" data-ng-model="memNO" type="number"
                                           placeholder="Members NO">

                                </div>

                                <div class="row from-group" style="padding-bottom: 5px">
                                    <label class="pull-left" style="padding-left: 1cm">Area:</label>

                                    <input class="form-control pull-right"
                                           style="width: 300px; height: 35px" data-ng-model="area" type="text" placeholder="Area">
                                </div>

                                <div class="row from-group" style="padding-bottom: 5px">
                                    <label class="pull-left" style="padding-left: 1cm">Product ID:</label>


                                    <select style="width: 300px; height: 35px" data-ng-model="PID" class="form-control pull-right">
                                        <option>PURO 1500</option>
                                        <option>PURO 3000</option>
                                        <option>PURO 4500</option>
                                        <option>PURO 6000</option>
                                        <option>PURO 9000</option>
                                        <option>PURO 12000</option>
                                    </select>



                                    <!--<input class="form-control pull-right"
                                           style="width: 300px; height: 35px" data-ng-model="PID" type="text" placeholder="Product">
                                -->
                                </div>

                                <div class="row" style="padding-bottom: 5px">
                                    <label class="pull-left" style="padding-left: 1cm"> ID:</label>

                                    <div class="from-group input-group" style="padding-left: 2.8cm">
                                        <span class="input-group-addon" data-ng-model="preID"> {{area | limitTo : 3 : 0 | uppercase}}</span>
                                        <input class="form-control"
                                               style=" height: 35px" data-ng-model="id" type="number"  >


                                    </div>
                                </div>





                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="height: 2cm;">


                        <div class="row form-group pull-right" style="padding-top: 10px;padding-right: 20px;">

                            <button type="button reset" class="btn btn-default btn-sm" data-dismiss="modal">Close</button>

                            <a href="" class="btn btn-success btn-sm" type="button"
                               data-ng-disabled="!Balance  || !id || !area "
                               ng-click="insertGroup()"
                               role="button"> Add members</a>
                        </div>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
    </div>



    <div class="panel panel-white"  >

          <div class="panel-heading clearfix">

              <div class="pull-left"> Registered Groups ({{listofGroups.length}})</div>
              <input class="form-control pull-right" data-ng-model="query" type="text" class="form-control empty" id="iconified" placeholder="&#xF002; Search.." style="width: 180px;height: 25px;font-family:Arial, FontAwesome">

          </div>

      <div class="panel-body">
          <div class="dataTable_wrapper">
              <table class="table table-hover">
                  <thead>
                  <tr>
                      <th>ID</th>
                      <th>Group members</th>
                      <th>Balance</th>
                      <th>Action</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr class="repeated-item" data-ng-repeat="group in listofGroups | filter:query | orderBy:'_id'" >
                      <td>{{group._id}}</td>
                      <td>{{group.number}}</td>
                      <td>Rs.{{group.balance}}.00</td>
                      <td><div class="btn-group">

                          <a href="#/groups/{{group._id}}" class="btn btn-info btn-xs"  style="color: #ffffff" role="button"><i class="fa fa-users"></i> View</a>
                          <a href="" class="btn btn-danger btn-xs" ng-click="deleteGroup(group._id);" role="button"  style="color: #ffffff"><i class="fa fa-trash-o"></i></a>


                      </div></td>
                  </tr>

                  </tbody>
              </table>
          </div>

      </div>

    </div>


  </div>
  <!-- /.col-lg-12 -->
</div>

